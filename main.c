#include <stdio.h>
#include <windows.h>
#include <stdlib.h>
#include "supermarket.h"

int main(){
    int time, i, next;
    char opt;
    tlista boxs;

    printf("-------------------------------------------------------------------------------------------------\n");
    printf("                                    SUPERT MARKET SIMULATOR                                      \n");
    printf("-------------------------------------------------------------------------------------------------\n\n");

    printf("[1] Start Simulation [2] Exit\n");

    startBoxs(&boxs);
    inserir(&boxs);

    for(time = 0; time != -1; time++){

            if(next = rand() % 3  != 0)
                inserir(&boxs);

            system("cls");
            printf("-------------------------------------------------------------------------------------------------\n");
            printf("                                    SUPERT MARKET SIMULATOR                                      \n");
            printf("-------------------------------------------------------------------------------------------------\n\n");
            printf("_________________________________________________________________________________________________\n");
            printf("_________________________________________________________________________________________________\n");
            printf("   | Cx. R | "); imprimirFila(boxs, 1); printf("\n");
            printf("_________________________________________________________________________________________________\n\n");
            printf("   | Cx. 1 | "); imprimirFila(boxs, 2); printf("\n");
            printf("_________________________________________________________________________________________________\n\n");
            printf("_________________________________________________________________________________________________\n");
            printf("   | Cx. 2 | "); imprimirFila(boxs, 3); printf("\n");
            printf("_________________________________________________________________________________________________\n\n");
            printf("_________________________________________________________________________________________________\n");
            printf("   | Cx. 3 | "); imprimirFila(boxs, 4); printf("\n");
            printf("_________________________________________________________________________________________________\n\n");
            printf("_________________________________________________________________________________________________\n");
            printf("   | Cx. 4 | "); imprimirFila(boxs, 5); printf("\n");
            printf("_________________________________________________________________________________________________\n\n");
            printf("_________________________________________________________________________________________________\n");
            printf("   | Cx. 5 | "); imprimirFila(boxs, 6); printf("\n");
            printf("_________________________________________________________________________________________________\n\n");


            printf("Pressione qualquer tecla para Avancar no tempo ou ESC para finalizar. ");
            countTime(&boxs);
            printf("%d\n", time);
            if((opt = getch()) == 27) time = -2;
    }





    return 0;
}
